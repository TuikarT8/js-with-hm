<html>
    <head>
        <title>Manip - 7</title>
        <style>
            input.error{
                border: solid 1px red;
            }
        </style>
        <script>
            function verifierLesOptionsRadio(event){
                //si l'utilisateur clique sur daccord on change
                //la couleur du bouton envoyer sinon on remet la
                // couleur d'avant
                const button = document.querySelector("#ok-button");
                if (!button) return;

                if (event.target.value === "ok") {
                    button.disabled = false;
                } else {
                    button.disabled = true;
                }
            }

            function verifierInput(event){
                event.preventDefault();

                const inputs = document.querySelectorAll('input[type="text"]');
                for(const input of inputs) {
                    if (input.value.length >= 6) {
                        input.classList.remove("error");
                    } else {
                        if (!input.classList.contains("error")) {
                            input.classList.add("error");
                        }
                    }
                }
            }
        </script>
        <body>
            <h1>Manip - 7</h1>
            <p> Lorem ipsum dolor, sit amet consectetur adipisicing elit. Neque, ipsa! Vel nam similique iusto. Fuga repellendus cumque libero molestias provident, necessitatibus dolorem odit nesciunt. Minus, voluptatem? Labore itaque rerum ipsa.</p>
            <form action="">
                <label for="nom">Nom</label><br>
                <input type="text"  id="nom" name="nom"><br>
                <label for="postnom">Post Nom</label><br>
                <input type="text"  id="postnom" name="postnom"><br>
                <label for="prenom">Pre-Nom</label><br>
                <input type="text"  id="prenom" name="prenom"><br><br>

                <fieldset>
                    <legend>Accord d'utilisation</legend>
                    <input type="radio" id="daccord" onclick="verifierLesOptionsRadio(event)" name="conscent" value="ok">
                    <label for="daccord">D'accord</label><br>
                    <input type="radio" id="pasdaccord" onclick="verifierLesOptionsRadio(event)" name="conscent" value="ko">
                    <label for="pasdaccord">Pas d'accord</label>
                </fieldset>
                <br><br>

                <button type="submit" id="ok-button" onclick="verifierInput(event)" disabled>Envoyer</button>
            </form>
        </body>
    </head>
</html>
